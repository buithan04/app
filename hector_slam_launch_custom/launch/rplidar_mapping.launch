<launch>
  <!-- Hector SLAM -->
  <node pkg="hector_mapping" type="hector_mapping" name="hector_mapping" output="screen">

    <!-- Khung map / odom / base -->
    <param name="base_frame" value="base_link"/>
    <param name="odom_frame" value="odom"/>
    <param name="map_frame"  value="map"/>

    <!-- Hector sẽ publish transform map -> odom -->
    <param name="pub_map_odom_transform" value="true"/>

    <!-- Topic laser -->
    <param name="scan_topic" value="scan"/>

    <!-- Dùng TF để chuyển scan từ laser về base_link -->
    <param name="use_tf_scan_transformation" value="true"/>

  </node>

  <!-- Nối odom -> base_link (vì mình chưa có wheel odom) -->
  <node pkg="tf" type="static_transform_publisher" name="odom_to_base"
        args="0 0 0 0 0 0 odom base_link 100"/>

  <!-- Nối base_link -> laser (RPLidar nằm trên robot, tạm coi trùng gốc) -->
  <node pkg="tf" type="static_transform_publisher" name="base_to_laser"
        args="0 0 0 0 0 0 base_link laser 100"/>

  <!-- RViz dùng cấu hình mặc định -->
  <node pkg="rviz" type="rviz" name="rviz"
        args="-d $(find hector_slam_launch_custom)/rviz/mapping_demo.rviz"/>
</launch>

